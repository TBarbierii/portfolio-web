---
import BriefcaseIcon from "./icons/BriefcaseIcon.astro";
import AboutIcon from "./icons/AboutIcon.astro";
import StudyIcon from "./icons/StudyIcon.astro";
import StackIcon from "./icons/StackIcon.astro";
import ProjectIcon from "./icons/ProjectIcon.astro";
import MailHeaderIcon from "./icons/MailHeaderIcon.astro";
---

<header class="flex justify-center items-center py-3 mx-auto">
    <nav class="bg-neutral-900 fixed sm:w-[570px] z-20 top-5 rounded-full w-11/12">
        <div class="navbar pl-4 p-2 max-w-screen-xl flex flex-wrap items-center justify-between mx-auto">
            <div class="toggle">
                |||
            </div>
            <div class="links pl-4 py-2 items-center justify-between hidden md:flex md:flex-col md:order-1" id="navbar-sticky">
                <div class="w-full pb-3 gap-y-5 flex sm:flex-row flex-col md:p-0 mt-4 font-semibold md:space-x-3 rtl:space-x-reverse md:mt-0">
                    <a class="hover:text-violet-400 link hover:scale-105 transition-transform ease-in" href="#top">
                        <AboutIcon class="icon w-6 h-6 hidden" />
                        Sobre mi
                    </a>
                    <a class="hover:text-violet-400 link hover:scale-105 transition-transform ease-in" href="#experience">
                        <BriefcaseIcon class="icon w-6 h-6 hidden" />
                        Experiencia
                    </a>
                    <a class="hover:text-violet-400 link hover:scale-105 transition-transform ease-in" href="#studies">
                        <StudyIcon class="icon w-6 h-6 hidden" />
                        Estudios
                    </a>
                    <a class="hover:text-violet-400 link hover:scale-105 transition-transform ease-in" href="#technologies">
                        <StackIcon class="icon w-6 h-6 hidden" />
                        Tecnologias
                    </a>
                    <a class="hover:text-violet-400 link hover:scale-105 transition-transform ease-in" href="#projects">
                        <ProjectIcon class="icon w-6 h-6 hidden" />
                        Proyectos
                    </a>
                    <a class="hover:text-violet-400 link hover:scale-105 transition-transform ease-in" href="mailto:tomasbarbieribedini@gmail.com">
                        <MailHeaderIcon class="icon w-6 h-6 hidden" />
                        Contacto
                    </a>
                </div>
                <!-- <ul class="w-full pb-3 gap-y-5 flex sm:flex-row flex-col md:p-0 mt-4 font-semibold md:space-x-3 rtl:space-x-reverse md:mt-0">
                    <li class="link hover:scale-105 transition-transform ease-in w-full">
                    </li>
                    <li class="link hover:scale-105 transition-transform ease-in">
                        
                    </li>
                    <li class="link hover:scale-105 transition-transform ease-in">
                        
                    </li>
                    <li class="link hover:scale-105 transition-transform ease-in">
                    
                    </li>
                    <li class="link hover:scale-105 transition-transform ease-in">
                        
                    </li>
                    <li class="link hover:scale-105 transition-transform ease-in">

                    </li>
                </ul> -->
            </div>
        </div>
    </nav>
</header>
    

<style>
    .navbar {
        border: 1px solid #3f0086;
        /* backdrop-filter: blur(20px); */
        border-radius: 9999px;
    }	

    .links .link a{
        transition: 0.3s;
    }

    .toggle {
        font-size: 30px;
        margin-left: 20px;
        display: none;
        transition: 0.3s;
        transform: rotate(90deg);
        margin-top: 2px;
        padding-bottom: 2px;
        cursor: pointer;
        user-select: none;
    }

    .rotate {
        transform: rotate(180deg);
    }

    @media screen and (max-width: 768px) {
        
        .navbar {
            border: 1px solid #3f0086;
            /* backdrop-filter: blur(20px); */
            border-radius: 9999px;
        }	

        .toggle {
            display: inline-block;
        }

        .links {
            position: absolute;
            transition: 0.01s;
            display: flex;
            flex-direction: column;
            align-items: center;
            backdrop-filter: blur(60px);
            border: 1px solid #3f0086;
            justify-content: center;
            text-align: center;
            overflow: hidden;
            width: 93%;
            padding-right: 15px;
            z-index: -1;
            top: -400px;
            animation-delay: 100s;
            border-radius: 4px;
            user-select: none;
        }

        .links .link {
            border-bottom: 1px solid #5f5f5f;
            padding-bottom: 5px;
        }

        .links .link:hover {
            background-color: #340086;
        }

        .links .link a:hover {
            color: rgb(255, 255, 255)
        }

        .active {
            top: 80px;
        }
       
        .icon {
            display: inline-block;
            padding-right: 5px;
            padding-bottom: 5px;
        }

    }
</style>

<script>
    const toggle = document.querySelector('.toggle');
    const links = document.querySelector('.links');
    const main = document.querySelector('.main');

    if (toggle && links) {
        toggle.addEventListener('click', () => {
            toggle.classList.toggle('rotate');
            links.classList.toggle('active');
    });
    }

    links?.addEventListener('click', () => {
        toggle?.classList.remove('rotate');
        links.classList.remove('active');
    });

    main?.addEventListener('click', () => {
        toggle?.classList.remove('rotate');
        links?.classList.remove('active');
        main.classList.remove('active');
    });

</script>