---
import BriefcaseIcon from "./icons/BriefcaseIcon.astro";
import AboutIcon from "./icons/AboutIcon.astro";
import StudyIcon from "./icons/StudyIcon.astro";
import StackIcon from "./icons/StackIcon.astro";
import ProjectIcon from "./icons/ProjectIcon.astro";
import MailHeaderIcon from "./icons/MailHeaderIcon.astro";
---

<header class="flex justify-center items-center py-3 mx-auto">
    <nav class="bg-neutral-900 fixed sm:w-[570px] z-20 top-5 rounded-full w-11/12">
        <div class="pl-4 p-2 max-w-screen-xl flex flex-wrap items-center justify-between mx-auto">
            <div class="toggle">
                |||
            </div>
            <div class="links pl-4 py-2 items-center justify-between hidden md:flex md:flex-col md:order-1" id="navbar-sticky">
                <ul class="w-full pb-3 gap-y-5 flex sm:flex-row flex-col md:p-0 mt-4 font-semibold md:space-x-3 rtl:space-x-reverse md:mt-0">
                    <li class="link hover:scale-105 transition-transform ease-in">
                        <AboutIcon class="icon w-6 h-6 hidden" />
                        <a class="hover:text-violet-400" href="#top">Sobre mi</a>
                    </li>
                    <li class="link hover:scale-105 transition-transform ease-in">
                        <BriefcaseIcon class="icon w-6 h-6 hidden" />
                        <a class="hover:text-violet-400" href="#experience">Experiencia</a>
                    </li>
                    <li class="link hover:scale-105 transition-transform ease-in">
                        <StudyIcon class="icon w-6 h-6 hidden" />
                        <a class="hover:text-violet-400" href="#studies">Estudios</a>
                    </li>
                    <li class="link hover:scale-105 transition-transform ease-in">
                        <StackIcon class="icon w-6 h-6 hidden" />
                        <a class="hover:text-violet-400" href="#technologies">Tecnologias</a>
                    </li>
                    <li class="link hover:scale-105 transition-transform ease-in">
                        <ProjectIcon class="icon w-6 h-6 hidden" />
                        <a class="hover:text-violet-400" href="#projects">Proyectos</a>
                    </li>
                    <li class="link hover:scale-105 transition-transform ease-in">
                        <MailHeaderIcon class="icon w-6 h-6 hidden" />
                        <a class="hover:text-violet-400" href="mailto:tomasbarbieribedini@gmail.com">Contacto</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
    

<style>
    .links .link a{
        transition: 0.3s;
    }

    .toggle {
        font-size: 30px;
        margin-left: 20px;
        display: none;
        transition: 0.3s;
        transform: rotate(90deg);
        margin-top: 2px;
        padding-bottom: 2px;
        cursor: pointer;
        user-select: none;
    }

    .rotate {
        transform: rotate(180deg);
    }

    @media screen and (max-width: 768px) {
        
        .toggle {
            display: inline-block;
        }

        .links {
            position: absolute;
            transition: 0.01s;
            display: flex;
            flex-direction: column;
            align-items: center;
            backdrop-filter: blur(60px);
            border: 1px solid #3f0086;
            justify-content: center;
            text-align: center;
            overflow: hidden;
            width: 93%;
            padding-right: 15px;
            z-index: -1;
            top: -400px;
            animation-delay: 100s;
            border-radius: 4px;
            user-select: none;
        }

        .links .link {
            border-bottom: 1px solid #5f5f5f;
            padding-bottom: 5px;
        }

        .links .link:hover {
            background-color: #340086;
        }

        .links .link a:hover {
            color: rgb(255, 255, 255)
        }

        .active {
            top: 80px;
        }
       
        .icon {
            display: inline-block;
            padding-right: 5px;
            padding-bottom: 5px;
        }

    }
</style>

<script>
    const toggle = document.querySelector('.toggle');
    const links = document.querySelector('.links');
    if (toggle && links) {
        toggle.addEventListener('click', () => {
            toggle.classList.toggle('rotate');
            links.classList.toggle('active');
    });
    }
</script>